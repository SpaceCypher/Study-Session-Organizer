# **COMPLETE SYSTEM ARCHITECTURE DOCUMENT - STUDY SESSION ORGANIZER WEB APPLICATION**

***

## **EXECUTIVE SUMMARY**

Build a production-ready web application for the Study Session Organizer using Flask backend with MySQL database and a modern, responsive frontend. The system implements intelligent study group matching, session management, analytics, and notifications using your existing database schema with 11 tables, 5 stored procedures, 8 triggers, and 5 custom functions.

---

## **1. TECHNOLOGY STACK**

### **1.1 Backend Stack**
- **Framework**: Flask 3.0+ (Python web framework)
- **Database Driver**: `mysql-connector-python` 8.0+ (direct MySQL communication)
- **Session Management**: Flask-Session with server-side storage
- **Authentication**: Flask-Login with bcrypt password hashing
- **API Format**: RESTful JSON APIs
- **CORS**: Flask-CORS (if frontend on different port)
- **Environment**: Python 3.10+

### **1.2 Frontend Stack**
- **Core**: HTML5, CSS3, Vanilla JavaScript (ES6+)
- **CSS Framework**: **Tailwind CSS** (utility-first, modern, responsive)
- **Icons**: **Feather Icons** or **Heroicons** (lightweight SVG icons)
- **Charts/Visualization**: **Chart.js** (for analytics dashboard)
- **HTTP Client**: Fetch API (native JavaScript)
- **Date/Time**: Day.js (lightweight alternative to Moment.js)
- **No heavy framework**: Pure HTML/CSS/JS for speed and simplicity

### **1.3 Development Tools**
- **IDE**: VS Code with Python, Tailwind CSS IntelliSense extensions
- **Database Client**: MySQL Workbench or DBeaver
- **API Testing**: Postman or Thunder Client (VS Code extension)
- **Version Control**: Git + GitHub
- **Live Reload**: Flask debug mode for hot reload

### **1.4 Deployment (Future)**
- **Hosting**: PythonAnywhere (free tier) or Render/Railway
- **Database**: MySQL 8.0+ on cloud or PythonAnywhere MySQL
- **Domain**: .in domain if needed (later)

***

## **2. PROJECT STRUCTURE**

```
study_session_organizer/
â”‚
â”œâ”€â”€ app.py                          # Main Flask application entry point
â”œâ”€â”€ config.py                       # Configuration (DB credentials, secret keys)
â”œâ”€â”€ requirements.txt                # Python dependencies
â”œâ”€â”€ .env                            # Environment variables (DB password, secret key)
â”œâ”€â”€ .gitignore                      # Git ignore file
â”‚
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ db_manager.py              # DatabaseManager class (connection, queries)
â”‚   â”œâ”€â”€ procedures.py              # Stored procedure wrappers
â”‚   â””â”€â”€ schema.sql                 # Your existing schema file
â”‚
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ student.py                 # Student data model
â”‚   â”œâ”€â”€ session.py                 # Session data model
â”‚   â”œâ”€â”€ subject.py                 # Subject data model
â”‚   â””â”€â”€ notification.py            # Notification model
â”‚
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ auth.py                    # Login, register, logout routes
â”‚   â”œâ”€â”€ dashboard.py               # Dashboard routes
â”‚   â”œâ”€â”€ sessions.py                # Session CRUD routes
â”‚   â”œâ”€â”€ partners.py                # Find partners routes
â”‚   â”œâ”€â”€ analytics.py               # Analytics API routes
â”‚   â””â”€â”€ notifications.py           # Notification routes
â”‚
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ auth_helpers.py            # Authentication decorators
â”‚   â”œâ”€â”€ validators.py              # Input validation functions
â”‚   â””â”€â”€ formatters.py              # Data formatting utilities
â”‚
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â”œâ”€â”€ tailwind.css           # Compiled Tailwind CSS
â”‚   â”‚   â””â”€â”€ custom.css             # Additional custom styles
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ main.js                # Main JavaScript logic
â”‚   â”‚   â”œâ”€â”€ dashboard.js           # Dashboard interactions
â”‚   â”‚   â”œâ”€â”€ sessions.js            # Session management JS
â”‚   â”‚   â”œâ”€â”€ partners.js            # Partner finder JS
â”‚   â”‚   â”œâ”€â”€ analytics.js           # Charts and analytics
â”‚   â”‚   â””â”€â”€ utils.js               # Utility functions (API calls, date formatting)
â”‚   â””â”€â”€ img/
â”‚       â””â”€â”€ logo.svg               # App logo
â”‚
â””â”€â”€ templates/
    â”œâ”€â”€ base.html                  # Base template with navbar, footer
    â”œâ”€â”€ login.html                 # Login page
    â”œâ”€â”€ register.html              # Registration page
    â”œâ”€â”€ dashboard.html             # Main dashboard
    â”œâ”€â”€ sessions/
    â”‚   â”œâ”€â”€ browse.html            # Browse all sessions
    â”‚   â”œâ”€â”€ create.html            # Create new session
    â”‚   â”œâ”€â”€ detail.html            # Session detail view
    â”‚   â””â”€â”€ my_sessions.html       # User's sessions
    â”œâ”€â”€ partners/
    â”‚   â””â”€â”€ find.html              # Find compatible partners
    â”œâ”€â”€ analytics/
    â”‚   â””â”€â”€ dashboard.html         # Analytics dashboard
    â”œâ”€â”€ profile/
    â”‚   â”œâ”€â”€ view.html              # View profile
    â”‚   â””â”€â”€ edit.html              # Edit profile
    â””â”€â”€ notifications/
        â””â”€â”€ list.html              # Notifications list
```

***

## **3. DATABASE ARCHITECTURE**

### **3.1 Connection Management**

**DatabaseManager Class Responsibilities:**
- Maintain persistent MySQL connection pool
- Execute raw SQL queries with parameterized inputs (prevent SQL injection)
- Call stored procedures (FindStudyPartners, CreateStudySession, JoinStudySession, UpdateCompatibilityScores, GenerateSessionAnalytics)
- Handle OUT parameters from procedures
- Transaction management (commit/rollback)
- Connection error handling and retry logic

**Key Methods:**
1. `connect()` - Establish MySQL connection
2. `execute_query(query, params)` - Execute SELECT queries, return dict
3. `execute_update(query, params)` - Execute INSERT/UPDATE/DELETE
4. `call_procedure(proc_name, args)` - Call stored procedure with IN/OUT params
5. `get_cursor()` - Return cursor for complex operations
6. `close()` - Close connection gracefully

### **3.2 Stored Procedure Integration**

**Your 5 Key Procedures:**

1. **FindStudyPartners**(studentid, subjectid, sessiondate, starttime, duration)
   - Returns compatible partners with compatibility scores >0.60
   - Used in "Find Partners" page
   - Display results in ranked table

2. **CreateStudySession**(studentid, subjectid, date, start, end, maxparticipants, description, OUT sessionid)
   - Creates session, adds creator as organizer, sends notification
   - Returns new session ID
   - Used in "Create Session" form

3. **JoinStudySession**(sessionid, studentid)
   - Validates capacity, checks duplicates, adds participant
   - Sends notifications to creator and participant
   - Used in session detail page "Join" button

4. **UpdateCompatibilityScores**()
   - Recalculates all student-pair compatibility scores
   - Run via admin panel or scheduled task (future)

5. **GenerateSessionAnalytics**(studentid)
   - Returns 3 result sets: overall stats, subject-wise performance, frequent partners
   - Used in analytics dashboard

**Procedure Wrapper Pattern:**
```python
# In database/procedures.py
def find_study_partners(db, student_id, subject_id, date, start_time, duration):
    """Wrapper for FindStudyPartners stored procedure"""
    args = [student_id, subject_id, date, start_time, duration]
    results = db.call_procedure('FindStudyPartners', args)
    return results  # List of compatible partners
```

### **3.3 Trigger Awareness**

**Your 8 Triggers Run Automatically - No API Calls Needed:**

1. **preventsessionoverbooking** - Blocks join if session full
2. **updatecompatibilityonstudentchange** - Invalidates scores on GPA/learning style change
3. **notifyonsessioncancel** - Sends cancellation notifications
4. **setoptimallocation** - Auto-assigns best location after 2+ participants
5. **autoupdatesessionstatus** - Marks past sessions as Completed
6. **sendsessionreminder** - Creates reminder notifications 24h before
7. **validateavailabilitytime** - Validates availability time constraints
8. **storecompatibilityfactors** - Calculates factor breakdown on compatibility insert

**Implication**: Don't duplicate trigger logic in backend. Trust MySQL to handle these automatically.

### **3.4 Function Usage**

**Your 5 Functions - Called Within Queries:**

1. `CALCULATECOMPATIBILITY(student1id, student2id)` â†’ DECIMAL(3,2)
2. `CHECKAVAILABILITY(studentid, date, start, duration)` â†’ BOOLEAN
3. `OPTIMIZEGROUPSIZE(subjectid)` â†’ INT
4. `PREDICTSUCCESSRATE(sessionid)` â†’ DECIMAL(3,2)
5. `FINDOPTIMALLOCATION(sessionid)` â†’ INT

**Usage Pattern:**
```sql
-- Example: Display compatibility score in session detail
SELECT 
    sp.studentid,
    s.name,
    CALCULATECOMPATIBILITY(?, sp.studentid) as compatibility
FROM SESSIONPARTICIPANT sp
JOIN STUDENT s ON sp.studentid = s.studentid
WHERE sp.sessionid = ?
```

***

## **4. FEATURE IMPLEMENTATION ROADMAP**

### **4.1 Core Features (Priority 1 - Must Have)**

#### **Feature 1: Authentication System**

**Login Page:**
- Email and password fields
- "Remember me" checkbox
- "Forgot password" link (placeholder)
- Form validation (email format, required fields)
- Error messages on failed login
- Redirect to dashboard on success

**Registration Page:**
- Form fields: name, email, phone, password, confirm password, major, year, GPA, learning style (Visual/Auditory/Kinesthetic/Mixed), personality type (Introvert/Extrovert/Ambivert)
- Client-side validation before submit
- Password strength indicator
- Insert into STUDENT table with hashed password
- Auto-login after registration

**Backend Routes:**
- `POST /auth/login` - Validate credentials, create session
- `POST /auth/register` - Create new student, hash password
- `GET /auth/logout` - Clear session, redirect to login

**Security:**
- Use bcrypt for password hashing
- Store only hashed password in DB
- Session management with Flask-Login
- CSRF protection (Flask-WTF)

***

#### **Feature 2: Dashboard (Home After Login)**

**Layout:**
- Top navbar: Logo, "Dashboard", "Sessions", "Find Partners", "Analytics", "Profile", Notifications bell icon, Logout
- Main content area with 4 cards:
  1. **Upcoming Sessions** - Next 3 sessions (date, time, subject, location)
  2. **Pending Invitations** - Sessions waiting for your join confirmation
  3. **Recent Notifications** - Last 5 notifications (unread highlighted)
  4. **Quick Stats** - Total sessions attended, avg effectiveness rating, compatibility score avg

**API Endpoints:**
- `GET /api/dashboard/upcoming` - Returns upcoming sessions for logged-in user
- `GET /api/dashboard/invitations` - Returns pending invites
- `GET /api/dashboard/notifications` - Returns recent notifications
- `GET /api/dashboard/stats` - Returns quick stats

**Frontend Behavior:**
- Fetch data on page load via AJAX
- Display loading skeleton while fetching
- Click session card â†’ navigate to session detail page
- Click notification â†’ mark as read, navigate to related page

***

#### **Feature 3: Browse & Join Sessions**

**Sessions Browse Page:**
- Filter bar: Subject dropdown, Date range picker, Status (Planned/Active/Completed)
- Search box: Search by description or creator name
- Session cards grid (responsive):
  - Subject name & code
  - Date & time (formatted: "Mon, Nov 4, 2:00 PM - 4:00 PM")
  - Location (building + room)
  - Participants count / Max participants
  - Status badge (color-coded)
  - "View Details" button

**Session Detail Page:**
- Full session information
- Creator profile card (name, major, year, GPA)
- Participant list with compatibility scores (if logged-in user is participant)
- "Join Session" button (if eligible)
- "Leave Session" button (if already joined)
- Predicted success rate badge (from `PREDICTSUCCESSRATE()`)
- Discussion section (future: add comments)

**Join Session Flow:**
1. User clicks "Join" button
2. Frontend calls `POST /api/sessions/{id}/join`
3. Backend calls `JoinStudySession(sessionid, userid)` procedure
4. Procedure validates capacity, checks duplicates, adds participant
5. Trigger sends notifications automatically
6. Frontend shows success message, updates participant count

**API Endpoints:**
- `GET /api/sessions` - List all sessions (with filters)
- `GET /api/sessions/{id}` - Get session details
- `POST /api/sessions/{id}/join` - Join session (calls JoinStudySession procedure)
- `DELETE /api/sessions/{id}/leave` - Leave session
- `PUT /api/sessions/{id}/cancel` - Cancel session (creator only)

***

#### **Feature 4: Create Study Session**

**Create Session Form:**
- Subject dropdown (fetch from SUBJECT table)
- Date picker (future dates only)
- Start time & end time (time pickers)
- Max participants slider (2-15, default 6)
- Description textarea
- Location dropdown (fetch from LOCATION table, or auto-assign)
- "Create Session" button

**Validation:**
- End time > Start time
- Date >= Today
- All required fields filled
- Max participants between 2-15

**Submit Flow:**
1. Form validation on client-side
2. Submit to `POST /api/sessions/create`
3. Backend calls `CreateStudySession(userid, subjectid, date, start, end, max, desc, OUT sessionid)` procedure
4. Procedure returns new session ID
5. Redirect to session detail page
6. Show success notification

**Smart Features:**
- Auto-suggest optimal group size using `OPTIMIZEGROUPSIZE(subjectid)` function
- Show "Optimal: 4 students" hint below max participants slider
- Display available locations based on capacity

**API Endpoints:**
- `POST /api/sessions/create` - Create session (calls CreateStudySession procedure)
- `GET /api/subjects` - List all subjects for dropdown
- `GET /api/locations` - List all locations for dropdown

***

#### **Feature 5: Find Compatible Partners**

**Find Partners Page:**
- Subject selector
- Preferred date & time
- Duration slider (1-4 hours)
- "Find Partners" button

**Results Display:**
- Ranked table of compatible students:
  - Rank (1, 2, 3...)
  - Student name & major
  - Year & GPA
  - Compatibility score (color-coded bar: green >0.8, yellow 0.6-0.8, red <0.6)
  - Proficiency level badge
  - Can Teach badge (if applicable)
  - Past sessions together count
  - Avg effectiveness rating from past sessions
  - "Invite" button (future: send direct invite)

**Backend Flow:**
1. User submits form â†’ `POST /api/partners/find`
2. Backend calls `FindStudyPartners(userid, subjectid, date, start, duration)` procedure
3. Procedure returns ranked list (compatibility score >0.60)
4. Return as JSON, frontend renders table

**API Endpoints:**
- `POST /api/partners/find` - Find partners (calls FindStudyPartners procedure)

***

#### **Feature 6: Notifications Center**

**Notifications Page:**
- List all notifications (newest first)
- Filter: All / Unread / Read
- Notification types with icons:
  - ðŸ“© Session Invite (blue)
  - ðŸ”” Reminder (yellow)
  - âŒ Cancellation (red)
  - ðŸ”„ Update (purple)
  - ðŸ“ Feedback Request (green)
- Each notification shows:
  - Type icon
  - Message text
  - Sent date (relative: "2 hours ago")
  - Mark as read/unread toggle

**Navbar Bell Icon:**
- Show unread count badge
- Dropdown with last 5 notifications
- "View All" link to full notifications page

**API Endpoints:**
- `GET /api/notifications` - Get all notifications (with read status filter)
- `PUT /api/notifications/{id}/read` - Mark notification as read
- `GET /api/notifications/unread-count` - Get unread count for navbar badge

***

### **4.2 Advanced Features (Priority 2 - Important)**

#### **Feature 7: Analytics Dashboard**

**Three Sections (from GenerateSessionAnalytics procedure):**

**1. Overall Performance Card:**
- Total sessions attended
- Avg effectiveness rating (star rating visualization)
- Avg contribution rating (progress bar)
- Sessions attended vs missed (pie chart)

**2. Subject-wise Performance:**
- Table with columns: Subject, Sessions Count, Avg Effectiveness, Avg Learning Improvement
- Bar chart showing learning improvement per subject

**3. Frequent Study Partners:**
- Top 5 partners (profile cards):
  - Name, major
  - Sessions together count
  - Avg effectiveness rating
  - "View Compatibility" button (shows compatibility breakdown)

**API Endpoints:**
- `GET /api/analytics/{userid}` - Calls GenerateSessionAnalytics procedure, returns all 3 result sets

**Visualization:**
- Use Chart.js for pie chart (sessions attended/missed), bar chart (subject performance)
- Color-coded progress bars for ratings

***

#### **Feature 8: My Sessions Page**

**Tabs:**
- **Upcoming** - Sessions in future (status: Planned/Active)
- **Past** - Completed sessions
- **Created by Me** - Sessions I organized

**Each Session Card:**
- Same info as browse page
- Additional actions based on role:
  - If organizer: "Edit", "Cancel" buttons
  - If participant: "Leave" button
  - If past session & no feedback: "Submit Feedback" button

**Edit Session (Organizer Only):**
- Modal/page with form prefilled with current session data
- Allow changing: date, time, max participants, description, location
- Backend validates and updates STUDYSESSION table
- Trigger sends update notifications automatically

***

#### **Feature 9: Student Profile Pages**

**View Profile (Own):**
- Personal info: Name, email, phone, major, year, GPA
- Academic info: Learning style, personality type, enrollment ID
- Availability schedule (weekly grid showing available time slots)
- Subjects enrolled (table with proficiency level, needs help/can teach toggles)
- Edit profile button

**Edit Profile:**
- Form to update: phone, learning style, personality type
- Update STUDENT table
- Trigger updates compatibility scores automatically if GPA/learning style changed

**View Other User's Profile:**
- Public info only: Name, major, year, learning style, personality type
- Compatibility score with logged-in user (call CALCULATECOMPATIBILITY function)
- Common subjects
- Past sessions together count
- "Invite to Session" button (future)

***

### **4.3 Polish Features (Priority 3 - Nice to Have)**

#### **Feature 10: Manage Availability**

**Availability Management Page:**
- Weekly calendar grid (Monday-Sunday, rows for time slots)
- Click to add availability block:
  - Day of week
  - Start time & end time
  - Location preference
  - Recurring checkbox
- Edit/delete existing blocks
- Visual representation: Green blocks = available

**Backend:**
- Insert/update/delete AVAILABILITY table
- Validate time ranges (end > start, minimum 1 hour)
- Trigger validates automatically

---

#### **Feature 11: Session Feedback System**

**Feedback Form (After Session Completed):**
- Effectiveness rating (1-5 stars)
- Learning improvement percentage (slider 0-100%)
- Would repeat with same group? (Yes/No)
- Outcome type (Positive/Neutral/Negative/Mixed)
- Comments (textarea)

**Backend:**
- Insert into SESSIONOUTCOME table
- Update avg effectiveness in analytics

***

#### **Feature 12: Real-time Features (Future)**

- WebSocket notifications (new session invites appear instantly)
- Live session participant count updates
- Chat within session detail page

***

## **5. UI/UX DESIGN GUIDELINES**

### **5.1 Design System**

**Color Palette:**
- Primary: Teal (#14b8a6) - Buttons, links, accents
- Secondary: Indigo (#6366f1) - Headers, important elements
- Success: Green (#10b981) - Success messages, positive badges
- Warning: Yellow (#f59e0b) - Warnings, reminders
- Error: Red (#ef4444) - Errors, cancellations
- Neutral: Gray scale (#f3f4f6, #e5e7eb, #6b7280) - Backgrounds, text

**Typography:**
- Headings: `font-family: 'Inter', sans-serif; font-weight: 600-700;`
- Body: `font-family: 'Inter', sans-serif; font-weight: 400;`
- Code/Data: `font-family: 'Fira Code', monospace;`

**Spacing:**
- Use Tailwind spacing scale: 4px base (space-1 = 4px, space-4 = 16px, etc.)
- Consistent padding/margins across components

**Components:**
- Buttons: Rounded corners (border-radius: 8px), shadow on hover
- Cards: White background, subtle shadow, rounded corners
- Inputs: Border on focus (teal), placeholder text gray
- Modals: Centered, backdrop blur, smooth fade-in animation

### **5.2 Responsive Design**

**Breakpoints:**
- Mobile: < 640px (1 column layouts)
- Tablet: 640px - 1024px (2 column layouts)
- Desktop: > 1024px (3+ column layouts)

**Mobile-First Approach:**
- Design for mobile first, enhance for larger screens
- Hamburger menu on mobile, full navbar on desktop
- Stack cards vertically on mobile, grid on desktop

### **5.3 User Experience Patterns**

**Loading States:**
- Skeleton loaders while fetching data
- Spinner on button clicks
- Progress indicators for multi-step forms

**Error Handling:**
- Toast notifications for errors (top-right corner, auto-dismiss after 5s)
- Inline validation messages on forms (red text below input)
- Retry buttons on failed API calls

**Success Feedback:**
- Toast notifications for successful actions (green, top-right)
- Smooth transitions when updating data
- Confetti animation for major milestones (optional, fun)

**Empty States:**
- Friendly messages when no data exists
- Illustrations (optional)
- Call-to-action buttons ("Create your first session!")

***

## **6. API DESIGN SPECIFICATION**

### **6.1 RESTful Conventions**

**URL Structure:**
```
/api/<resource>/<action>
/api/<resource>/{id}
```

**HTTP Methods:**
- `GET` - Read data (no side effects)
- `POST` - Create new resource
- `PUT` - Update existing resource (full)
- `PATCH` - Update existing resource (partial)
- `DELETE` - Delete resource

**Response Format:**
```json
{
    "success": true/false,
    "data": {...} or [...],
    "message": "Human-readable message",
    "errors": [...] (if validation fails)
}
```

**Status Codes:**
- 200 OK - Successful GET/PUT/PATCH
- 201 Created - Successful POST
- 204 No Content - Successful DELETE
- 400 Bad Request - Validation error
- 401 Unauthorized - Not logged in
- 403 Forbidden - Logged in but no permission
- 404 Not Found - Resource doesn't exist
- 500 Internal Server Error - Server-side error

### **6.2 Authentication Flow**

**All API routes except /auth/* require authentication:**
- Check if user session exists
- If not, return 401 with `{"success": false, "message": "Login required"}`
- Frontend redirects to login page on 401

**Decorator Pattern:**
```python
# In utils/auth_helpers.py
from functools import wraps
from flask import session, jsonify

def login_required(f):
    @wraps(f)
    def decorated_function(*args, **kwargs):
        if 'user_id' not in session:
            return jsonify({'success': False, 'message': 'Login required'}), 401
        return f(*args, **kwargs)
    return decorated_function

# Usage in routes:
@app.route('/api/sessions')
@login_required
def get_sessions():
    # ...
```

### **6.3 Complete API Endpoint List**

**Authentication:**
- `POST /auth/login` - Login (email, password)
- `POST /auth/register` - Register new student
- `GET /auth/logout` - Logout
- `GET /auth/check` - Check if logged in (returns user data)

**Dashboard:**
- `GET /api/dashboard/upcoming` - Upcoming sessions
- `GET /api/dashboard/invitations` - Pending invitations
- `GET /api/dashboard/notifications` - Recent notifications
- `GET /api/dashboard/stats` - Quick stats

**Sessions:**
- `GET /api/sessions` - List sessions (filters: subject, date range, status)
- `GET /api/sessions/{id}` - Session details
- `POST /api/sessions/create` - Create session (calls CreateStudySession)
- `POST /api/sessions/{id}/join` - Join session (calls JoinStudySession)
- `DELETE /api/sessions/{id}/leave` - Leave session
- `PUT /api/sessions/{id}` - Update session (organizer only)
- `PUT /api/sessions/{id}/cancel` - Cancel session (organizer only)

**Partners:**
- `POST /api/partners/find` - Find compatible partners (calls FindStudyPartners)

**Analytics:**
- `GET /api/analytics/{userid}` - Get analytics (calls GenerateSessionAnalytics)

**Notifications:**
- `GET /api/notifications` - List notifications (filter: read/unread)
- `PUT /api/notifications/{id}/read` - Mark as read
- `GET /api/notifications/unread-count` - Unread count

**Profile:**
- `GET /api/profile/{userid}` - View profile (own or other)
- `PUT /api/profile` - Update own profile
- `GET /api/profile/availability` - Get availability schedule
- `POST /api/profile/availability` - Add availability slot
- `DELETE /api/profile/availability/{id}` - Remove availability slot

**Subjects:**
- `GET /api/subjects` - List all subjects (for dropdowns)
- `GET /api/subjects/{id}/students` - Students enrolled in subject

**Locations:**
- `GET /api/locations` - List all locations (for dropdowns)

**Feedback:**
- `POST /api/sessions/{id}/feedback` - Submit session outcome

***

## **7. IMPLEMENTATION WORKFLOW**

### **7.1 Phase 1: Foundation (Week 1)**

**Day 1-2: Database Setup**
1. Run your `study_session_organizer.sql` schema file on MySQL
2. Verify all tables created: `SHOW TABLES;`
3. Test stored procedures manually in MySQL Workbench
4. Verify triggers work (insert test data, check notifications generated)

**Day 3-4: Flask Backend Setup**
1. Create project structure (folders as per Section 2)
2. Set up virtual environment: `python -m venv venv`
3. Install dependencies: Flask, mysql-connector-python, bcrypt, etc.
4. Create `database/db_manager.py` with DatabaseManager class
5. Test MySQL connection: Write simple script to connect and query STUDENT table
6. Create config.py with DB credentials (use .env file for secrets)

**Day 5-7: Authentication System**
1. Build `routes/auth.py` with login/register/logout routes
2. Implement password hashing with bcrypt
3. Create `templates/login.html` and `templates/register.html`
4. Test registration flow: Register user, verify STUDENT table insert
5. Test login flow: Login, verify session created
6. Implement `@login_required` decorator

***

### **7.2 Phase 2: Core Features (Week 2-3)**

**Week 2: Sessions CRUD**
1. Create `routes/sessions.py` with all session routes
2. Implement `POST /api/sessions/create` (calls CreateStudySession procedure)
3. Test procedure call with Postman: Verify OUT parameter returned
4. Build `templates/sessions/create.html` with form
5. Implement `GET /api/sessions` (list all sessions with filters)
6. Build `templates/sessions/browse.html` with cards grid
7. Implement `GET /api/sessions/{id}` (session detail)
8. Build `templates/sessions/detail.html`
9. Implement `POST /api/sessions/{id}/join` (calls JoinStudySession)
10. Test join flow: Verify participant added, notifications sent by trigger

**Week 3: Dashboard & Partners**
1. Build dashboard page with 4 cards (Section 4.1, Feature 2)
2. Implement all dashboard API routes
3. Test dashboard data loading with real sessions
4. Create `routes/partners.py`
5. Implement `POST /api/partners/find` (calls FindStudyPartners)
6. Build `templates/partners/find.html` with results table
7. Test partner finding: Verify compatibility scores accurate

***

### **7.3 Phase 3: Advanced Features (Week 4)**

**Notifications System:**
1. Create `routes/notifications.py`
2. Implement notification listing, mark as read
3. Build navbar bell icon with unread count
4. Test notification flow: Create session, verify creator got confirmation notification

**Analytics Dashboard:**
1. Create `routes/analytics.py`
2. Implement `GET /api/analytics/{userid}` (calls GenerateSessionAnalytics)
3. Parse 3 result sets returned by procedure
4. Build `templates/analytics/dashboard.html` with Chart.js
5. Display pie chart, bar chart, partner cards

**Profile & Availability:**
1. Build view/edit profile pages
2. Implement availability management (add/remove slots)
3. Test availability: Verify AVAILABILITY table updates

***

### **7.4 Phase 4: Polish & Testing (Week 5)**

**UI Refinement:**
1. Add loading skeletons to all data fetch operations
2. Implement toast notifications for errors/success
3. Add form validation on all forms (client-side)
4. Test responsive design on mobile/tablet/desktop
5. Fix any layout issues

**Testing:**
1. Create test accounts for different student profiles
2. Test complete user journey: Register â†’ Create session â†’ Find partners â†’ Join session â†’ Submit feedback â†’ View analytics
3. Test edge cases: Full session, past date, duplicate join
4. Verify all triggers work (check notification generation)
5. Stress test: Create 20+ sessions, verify performance

**Documentation:**
1. Write README.md with setup instructions
2. Document all API endpoints (can use Swagger/OpenAPI)
3. Create user guide screenshots
4. Write deployment guide

***

## **8. SECURITY CONSIDERATIONS**

### **8.1 Authentication Security**
- Hash passwords with bcrypt (salt rounds: 12)
- Never store plain passwords
- Use secure session cookies (httponly, secure flags)
- Implement session timeout (30 minutes)
- CSRF protection on forms

### **8.2 SQL Injection Prevention**
- Always use parameterized queries
- Never concatenate user input into SQL strings
- Validate all inputs server-side

### **8.3 Authorization**
- Check user permissions before allowing actions
- Verify session owner before allowing edits/cancellations
- Implement role-based access (Organizer vs Participant)

### **8.4 Input Validation**
- Validate all form inputs (length, format, range)
- Sanitize user-generated content (descriptions, comments)
- Prevent XSS attacks: Escape HTML in user content

***

## **9. PERFORMANCE OPTIMIZATION**

### **9.1 Database Optimization**
- Your schema already has indexes on key columns (good!)
- Use `EXPLAIN` to analyze slow queries
- Consider adding composite indexes if needed
- Limit result sets (LIMIT clause) for large tables

### **9.2 Frontend Optimization**
- Minify CSS/JS in production
- Use CDN for Tailwind CSS (faster load)
- Lazy load images
- Cache API responses where appropriate

### **9.3 Backend Optimization**
- Use connection pooling for MySQL (mysql-connector-python supports this)
- Cache expensive queries (e.g., subject list) in memory
- Implement pagination for large result sets
- Use async routes for long-running operations (optional)

***

## **10. DEPLOYMENT GUIDE**

### **10.1 Local Development**
```bash
# Setup
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt

# Configure
cp .env.example .env
# Edit .env with your MySQL credentials

# Run
export FLASK_APP=app.py
export FLASK_ENV=development
flask run --host=0.0.0.0 --port=5000

# Access
http://localhost:5000
```

### **10.2 Production Deployment (PythonAnywhere)**

**Step 1: Create Account**
- Sign up at pythonanywhere.com (free tier)

**Step 2: Setup MySQL**
- Create MySQL database in PythonAnywhere dashboard
- Note down credentials

**Step 3: Upload Code**
- Upload project via Git or file upload
- Install dependencies: `pip3 install -r requirements.txt --user`

**Step 4: Configure WSGI**
- Edit WSGI file to point to your Flask app
- Set environment variables

**Step 5: Run**
- Reload web app
- Access at `yourusername.pythonanywhere.com`

***

## **11. TAILWIND CSS INTEGRATION**

### **11.1 Setup Options**

**Option A: CDN (Quick Start)**
```html
<!-- In base.html <head> -->
<script src="https://cdn.tailwindcss.com"></script>
```

**Option B: Build Process (Production)**
```bash
# Install Tailwind
npm install -D tailwindcss
npx tailwindcss init

# Configure tailwind.config.js
content: ["./templates/**/*.html", "./static/js/**/*.js"]

# Build CSS
npx tailwindcss -i ./static/css/input.css -o ./static/css/output.css --watch
```

### **11.2 Example Component Styling**

**Button:**
```html
<button class="bg-teal-500 hover:bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-200">
    Create Session
</button>
```

**Card:**
```html
<div class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition duration-200">
    <h3 class="text-xl font-semibold text-gray-800 mb-2">Session Title</h3>
    <p class="text-gray-600">Session details...</p>
</div>
```

**Form Input:**
```html
<input type="text" 
       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-teal-500 focus:ring-2 focus:ring-teal-200 transition duration-200" 
       placeholder="Enter email">
```

***

## **12. JAVASCRIPT PATTERNS**

### **12.1 API Call Utility**

```javascript
// In static/js/utils.js
const API_BASE = '/api';

async function apiCall(endpoint, method = 'GET', body = null) {
    const options = {
        method,
        headers: {
            'Content-Type': 'application/json',
        },
    };
    
    if (body) {
        options.body = JSON.stringify(body);
    }
    
    try {
        const response = await fetch(`${API_BASE}${endpoint}`, options);
        const data = await response.json();
        
        if (!response.ok) {
            throw new Error(data.message || 'Request failed');
        }
        
        return data;
    } catch (error) {
        console.error('API Error:', error);
        showToast(error.message, 'error');
        throw error;
    }
}

function showToast(message, type = 'info') {
    // Toast notification implementation
    // Use a library like toastify-js or build custom
}
```

### **12.2 Form Submission Pattern**

```javascript
// In static/js/sessions.js
document.getElementById('createSessionForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const formData = {
        subject_id: document.getElementById('subject').value,
        date: document.getElementById('date').value,
        start_time: document.getElementById('start_time').value,
        end_time: document.getElementById('end_time').value,
        max_participants: document.getElementById('max_participants').value,
        description: document.getElementById('description').value,
    };
    
    // Validate
    if (!validateForm(formData)) {
        return;
    }
    
    // Show loading
    const submitBtn = e.target.querySelector('button[type="submit"]');
    submitBtn.disabled = true;
    submitBtn.textContent = 'Creating...';
    
    try {
        const result = await apiCall('/sessions/create', 'POST', formData);
        showToast('Session created successfully!', 'success');
        window.location.href = `/sessions/${result.data.session_id}`;
    } catch (error) {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Create Session';
    }
});
```

***

## **13. SUCCESS METRICS**

### **13.1 Technical Metrics**
- All 11 tables properly utilized
- All 5 stored procedures successfully called
- All 8 triggers functioning automatically
- All 5 functions used in queries
- API response time < 500ms (avg)
- Zero SQL injection vulnerabilities
- 100% mobile responsive

### **13.2 Feature Completeness**
- Core features (Priority 1): 100%
- Advanced features (Priority 2): 80%+
- Polish features (Priority 3): 50%+

### **13.3 User Experience**
- Intuitive navigation (user can complete task without instructions)
- Fast loading (< 2s initial load)
- Clear error messages
- Smooth transitions
- Accessible (keyboard navigation, screen reader friendly)

***

## **14. COMMON PITFALLS TO AVOID**

1. **Not handling OUT parameters from procedures** - Use `callproc()` return value
2. **Forgetting to commit after INSERT/UPDATE** - Set `autocommit=True` or call `connection.commit()`
3. **SQL injection via string concatenation** - Always use parameterized queries
4. **Not validating input server-side** - Don't trust client-side validation alone
5. **Hardcoding credentials** - Use .env file, never commit passwords
6. **Not testing triggers** - Insert test data to verify triggers work
7. **Ignoring mobile responsiveness** - Test on small screens
8. **Not handling errors gracefully** - Show user-friendly error messages
9. **Forgetting CORS** - If frontend on different port, enable CORS
10. **Not using indexes** - Your schema has them, but verify with EXPLAIN

***

## **15. FINAL CHECKLIST BEFORE DEMO**

### **Database:**
- [ ] Schema created with all tables, procedures, triggers, functions
- [ ] Sample data inserted for testing
- [ ] All procedures tested manually in MySQL Workbench
- [ ] Indexes verified with EXPLAIN

### **Backend:**
- [ ] All API routes implemented
- [ ] Authentication working (login/register/logout)
- [ ] All stored procedures called successfully
- [ ] Error handling for all endpoints
- [ ] Input validation implemented

### **Frontend:**
- [ ] All pages designed and styled with Tailwind CSS
- [ ] Responsive design tested (mobile/tablet/desktop)
- [ ] All forms functional
- [ ] API calls working from frontend
- [ ] Loading states and error messages displayed

### **Integration:**
- [ ] Complete user flow tested end-to-end
- [ ] Notifications generated by triggers
- [ ] Analytics dashboard displays data correctly
- [ ] Session join/leave working
- [ ] Partner finder returns accurate results

### **Documentation:**
- [ ] README.md with setup instructions
- [ ] API documentation
- [ ] Code comments on complex logic
- [ ] User guide or demo video

***

## **16. TECH STACK SUMMARY**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             FRONTEND LAYER                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  HTML5 + Tailwind CSS + Vanilla JavaScript  â”‚
â”‚  Chart.js (Analytics) + Feather Icons       â”‚
â”‚  Day.js (Date formatting)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ HTTP/JSON
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             BACKEND LAYER                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Flask 3.0+ (Python Web Framework)          â”‚
â”‚  Flask-Login (Session Management)           â”‚
â”‚  bcrypt (Password Hashing)                  â”‚
â”‚  RESTful API Design                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ SQL
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            DATABASE LAYER                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  MySQL 8.0+ (Relational Database)           â”‚
â”‚  mysql-connector-python (Driver)            â”‚
â”‚  11 Tables + 5 Procedures + 8 Triggers      â”‚
â”‚  5 Functions + Scheduled Events             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

***

**That's your complete system architecture. Build incrementally following the 5-week workflow. Test each component before moving to the next. Your stored procedures and triggers already handle complex logic - just call them correctly from Flask.**

[1](https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/81166053/a94bd82e-963b-481b-8c7f-d43cee68ac97/study_session_organizer.sql)
[2](https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/81166053/5d706e6e-ec16-4662-b679-7ad2d192e130/Study-Session-Organizer-Project-Report.pdf)